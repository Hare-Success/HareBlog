---
id: ScriptRecording
title: 脚本录制
authors: Hare
tags: [自动化,Jmeter]
---

# Jmeter脚本录制


## Jmeter 脚本录制

录制不是 “魔法”，它基于一个非常简单的概念: **代理(Proxy)**

1. 中间人: Jmeter启动内置的代理服务器（端口默认8888）
2. 配置客户端: 浏览器/手机的代理指向Jmeter的代理服务器
3. 之后浏览器发出的HTTP/HTTPS请求都会先经过Jmeter
4. Jmeter拿到请求后转换为自己的，保存信息头/URL/参数/Cookie

这就是脚本录制，简单明了 类似Nginx的代理功能 客户端 -> nginx(Jmeter) -> gateway(目标服务器) -> 服务


## 录制步骤

### HTTP

1. **创建脚本记录器**
![脚本记录器](/img/automation/jmeter/录制.png)
下面选择录制保存的地方，先创建一个线程组，就可以进行选择
![脚本保存地](/img/automation/jmeter/录制保存.png)

:::note[Test plan content]
* 目标控制器: 简单的说 脚本录制保存地方。
* 分组: 存放的方式
:::

2. **浏览器开启代理**
端口号和jmeter保持一致即可

3. 在脚本记录器中启动即可
![开始录制](/img/automation/jmeter/开始录制.png)

这个地方可以在每个步骤开始前取个名字，保存在Jmeter可以更快速的识别。

### HTTPS
和HTTP的前期步骤一摸一样，多了一个证书的导入。

点击脚本录制启动后，会在Jmeter安装目录的bin下多了一个ApacheJMeterTemporaryRootCA.crt证书
windows双击安装即可，后面不用了删掉就可以。