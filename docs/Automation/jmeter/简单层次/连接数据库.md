---
id: DirectMysql
title: 连接数据库
authors: Hare
tags: [自动化,Jmeter]
---

# 连接数据库

## 相关步骤

1. **下载Mysql驱动Jar包**
   * [Mysql驱动下载地址](https://downloads.mysql.com/archives/c-j/)
~~~
下载后得到名为: mysql-connector-j-8.0.33.jar 的文件。将Jar可以放到Jmeter目录中的lib里面
~~~



2. **Jmeter操作**
   1. 创建JDBC Connection Configuration 见下图:
       **右击测试计划 -> 配置元件 -> JDBC Connection Configuration**
      ![JDBC Connection](/img/automation/jmeter/jdbcConfig.png)
  :::note[各属性详解]
      1. Variable Name Bound to Pool: 随意起名(后面要和其他地方保持一致)
      2. Database URL: 数据库的连接地址(具体格式: **jdbc:mysql://ip:端口号/数据库名称**)
      3. JDBC Driver class: 驱动(mysql8: com.mysql.cj.jdbc.Driver)
      4. Username: 用户名
      5. Password: 密码
   :::
   以上填写完后，就可以了
      
   2. 创建JDBC Request 
      **右击线程组 -> 取样器 -> JDBC Request**
      ![JDBC Request](/img/automation/jmeter/jdbcRequest.png)
   
      :::note[各属性详解]
         1. Variable Name of Pool declared in JDBC Connection Configuration: 和 Variable Name Bound to Pool 保持一致（JDBC Connection Configuration里面自定义的名称）
         2. Parameter values 参数值
         3. Parameter type 参数类型
         4. Variable Names 变量名，仅对select有效，将查询出的数据 保存下来
         5. Result variable name  结果变量名   jmeter会将整个结果集存放到里面
      :::

3. **测试计划加入驱动Jar包**
![添加驱动包](/img/automation/jmeter/addDriver.png)

## 小结
各方面配置很简单，配置后就可以在JDBC Request中的 Sql Query一栏中选择增删查改进行sql编写。